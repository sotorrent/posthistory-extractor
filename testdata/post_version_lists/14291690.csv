Id;PostHistoryTypeId;PostId;RevisionGUID;CreationDate;UserId;UserDisplayName;Comment;Text
34359214;2;14291690;c0f960ce-7558-4d7a-9eb7-fc7b69d228ca;2013-01-12 08:33:44;6309;;;"If your remote mirror repo is a [*bare* repo][1], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][2]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;That would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.get/hook/post-update&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [2]: http://sitaramc.github.com/gitolite/cust.html#hooks"
75835589;5;14291690;38700555-5382-45f1-b020-1906bfd5948b;2014-10-19 10:02:36;962603;;The location of the `post-receive` hook is of course in the `post-receive` file. There is an `update` hook, but AFAIK no `post-update` hook :-);"If your remote mirror repo is a [*bare* repo][1], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][2]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;That would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.get/hook/post-receive&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [2]: http://sitaramc.github.com/gitolite/cust.html#hooks"
75835590;24;14291690;38700555-5382-45f1-b020-1906bfd5948b;2014-10-19 10:02:36;;;Proposed by 962603 approved by 6309 edit id of 1568401;
75977735;5;14291690;404b3b97-c5af-4ff5-a883-4e0b1dfa3bf0;2014-10-21 12:39:53;6309;;add caveat;"Original answer (January 2013)&#xD;&#xA;&#xD;&#xA;If your remote mirror repo is a [*bare* repo][1], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][2]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;That would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.get/hook/post-receive&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Caveat (Update Ocotober 2014)&#xD;&#xA;&#xD;&#xA;[Ciro Santilli][3] points out [in the comments][4]:&#xD;&#xA;&#xD;&#xA;> **Today (Q4 2014) this will fail** because GitLab automatically symlinks github.com/gitlabhq/gitlab-shell/tree/… into every repository it manages.  &#xD;&#xA;So if you make this change, every repository you modify will try to push.  &#xD;&#xA;Not to mention possible conflicts when upgrading `gitlab-shell`, and that the current script is a ruby script, not bash (and you should not remove it!). &#xD;&#xA;&#xD;&#xA;> You could correct this by reading the current directory name and ensuring bijection between that and the remote, but I recommend people to stay far far away from those things&#xD;&#xA;&#xD;&#xA;See (and vote for) [feeadback ""**Automatic push to remote mirror repo after push to GitLab Repo**""][5].&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [2]: http://sitaramc.github.com/gitolite/cust.html#hooks&#xD;&#xA;  [3]: http://stackoverflow.com/users/895245/ciro-santilli&#xD;&#xA;  [4]: http://stackoverflow.com/questions/14288288/gitlab-repository-mirroring/14291690#comment41606464_14291690&#xD;&#xA;  [5]: http://feedback.gitlab.com/forums/176466-general/suggestions/4614663-automatic-push-to-remote-mirror-repo-after-push-to"
122354133;5;14291690;c9ac8d09-96b0-491f-8fb8-db10cbf348ef;2016-07-11 09:24:45;6309;;update;"Original answer (January 2013)&#xD;&#xA;&#xD;&#xA;If your remote mirror repo is a [*bare* repo][1], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][2]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;That would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.get/hook/post-receive&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Caveat (Update Ocotober 2014)&#xD;&#xA;&#xD;&#xA;[Ciro Santilli][3] points out [in the comments][4]:&#xD;&#xA;&#xD;&#xA;> **Today (Q4 2014) this will fail** because GitLab automatically symlinks github.com/gitlabhq/gitlab-shell/tree/… into every repository it manages.  &#xD;&#xA;So if you make this change, every repository you modify will try to push.  &#xD;&#xA;Not to mention possible conflicts when upgrading `gitlab-shell`, and that the current script is a ruby script, not bash (and you should not remove it!). &#xD;&#xA;&#xD;&#xA;> You could correct this by reading the current directory name and ensuring bijection between that and the remote, but I recommend people to stay far far away from those things&#xD;&#xA;&#xD;&#xA;See (and vote for) [feeadback ""**Automatic push to remote mirror repo after push to GitLab Repo**""][5].&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Update July 2016: I see this kind of feature added for GitLab EE (Enterprise Edition): [MR 249][6]&#xD;&#xA;&#xD;&#xA;- Add ability to enter remote push URL under Mirror Repository settings&#xD;&#xA;- Add implementation code to push to remote repository&#xD;&#xA;- Add new background worker&#xD;&#xA;- Show latest update date and sync errors if they exists.&#xD;&#xA;- Sync remote mirror every hour.&#xD;&#xA;&#xD;&#xA;Note that the recent `Remote Mirror Repository` ([issues 17940][7]) can be tricky:&#xD;&#xA;&#xD;&#xA;> I'm currently trying to shift main development of the Open Source npm modules of my company Lossless GmbH (https://www.npmjs.com/~lossless) from GitHub.com to GitLab.com&#xD;&#xA;&#xD;&#xA;> I'm importing all the repos from GitHub, however when I try to switch off `Mirror Repository` and switch on `Remote Mirror Repository` with the original GitHub URL I get an error saying: &#xD;&#xA;&#xD;&#xA;    Remote mirrors url is already in use&#xD;&#xA;&#xD;&#xA;Here is one of the repos this fails with: https://gitlab.com/pushrocks/npmts&#xD;&#xA;Edited 2 months ago&#xD;&#xA;&#xD;&#xA;> turns out, it just requires multiple steps:&#xD;&#xA;&#xD;&#xA;> - disable the Mirror Repository&#xD;&#xA;- press save&#xD;&#xA;- remove the URl&#xD;&#xA;- press save&#xD;&#xA;- then add the Remote Mirror&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [2]: http://sitaramc.github.com/gitolite/cust.html#hooks&#xD;&#xA;  [3]: http://stackoverflow.com/users/895245/ciro-santilli&#xD;&#xA;  [4]: http://stackoverflow.com/questions/14288288/gitlab-repository-mirroring/14291690#comment41606464_14291690&#xD;&#xA;  [5]: http://feedback.gitlab.com/forums/176466-general/suggestions/4614663-automatic-push-to-remote-mirror-repo-after-push-to&#xD;&#xA;  [6]: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/249/builds&#xD;&#xA;  [7]: https://gitlab.com/gitlab-org/gitlab-ce/issues/17940"
136631142;5;14291690;e68dfee4-e47d-4673-b5f8-d1f23b3a0d13;2017-01-23 12:32:44;-1;;get instead of git;"Original answer (January 2013)&#xD;&#xA;&#xD;&#xA;If your remote mirror repo is a [*bare* repo][1], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][2]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;which would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.git/hook/post-receive&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Caveat (Update Ocotober 2014)&#xD;&#xA;&#xD;&#xA;[Ciro Santilli][3] points out [in the comments][4]:&#xD;&#xA;&#xD;&#xA;> **Today (Q4 2014) this will fail** because GitLab automatically symlinks github.com/gitlabhq/gitlab-shell/tree/… into every repository it manages.  &#xD;&#xA;So if you make this change, every repository you modify will try to push.  &#xD;&#xA;Not to mention possible conflicts when upgrading `gitlab-shell`, and that the current script is a ruby script, not bash (and you should not remove it!). &#xD;&#xA;&#xD;&#xA;> You could correct this by reading the current directory name and ensuring bijection between that and the remote, but I recommend people to stay far far away from those things&#xD;&#xA;&#xD;&#xA;See (and vote for) [feeadback ""**Automatic push to remote mirror repo after push to GitLab Repo**""][5].&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Update July 2016: I see this kind of feature added for GitLab EE (Enterprise Edition): [MR 249][6]&#xD;&#xA;&#xD;&#xA;- Add ability to enter remote push URL under Mirror Repository settings&#xD;&#xA;- Add implementation code to push to remote repository&#xD;&#xA;- Add new background worker&#xD;&#xA;- Show latest update date and sync errors if they exists.&#xD;&#xA;- Sync remote mirror every hour.&#xD;&#xA;&#xD;&#xA;Note that the recent `Remote Mirror Repository` ([issues 17940][7]) can be tricky:&#xD;&#xA;&#xD;&#xA;> I'm currently trying to shift main development of the Open Source npm modules of my company Lossless GmbH (https://www.npmjs.com/~lossless) from GitHub.com to GitLab.com&#xD;&#xA;&#xD;&#xA;> I'm importing all the repos from GitHub, however when I try to switch off `Mirror Repository` and switch on `Remote Mirror Repository` with the original GitHub URL I get an error saying: &#xD;&#xA;&#xD;&#xA;    Remote mirrors url is already in use&#xD;&#xA;&#xD;&#xA;Here is one of the repos this fails with: https://gitlab.com/pushrocks/npmts&#xD;&#xA;Edited 2 months ago&#xD;&#xA;&#xD;&#xA;> turns out, it just requires multiple steps:&#xD;&#xA;&#xD;&#xA;> - disable the Mirror Repository&#xD;&#xA;- press save&#xD;&#xA;- remove the URl&#xD;&#xA;- press save&#xD;&#xA;- then add the Remote Mirror&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [2]: http://sitaramc.github.com/gitolite/cust.html#hooks&#xD;&#xA;  [3]: http://stackoverflow.com/users/895245/ciro-santilli&#xD;&#xA;  [4]: http://stackoverflow.com/questions/14288288/gitlab-repository-mirroring/14291690#comment41606464_14291690&#xD;&#xA;  [5]: http://feedback.gitlab.com/forums/176466-general/suggestions/4614663-automatic-push-to-remote-mirror-repo-after-push-to&#xD;&#xA;  [6]: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/249/builds&#xD;&#xA;  [7]: https://gitlab.com/gitlab-org/gitlab-ce/issues/17940"
136631143;24;14291690;e68dfee4-e47d-4673-b5f8-d1f23b3a0d13;2017-01-23 12:32:44;;;Proposed by 202.166.217.114|36017fb4-2194-4ad1-9787-37a6ea69645a approved by 6309 edit id of 2937015;
137218574;5;14291690;4433a1da-dec0-4934-9c3a-bc45af90d89e;2017-01-31 05:11:44;6309;;include comment;"Update Dec 2016: Mirroring is suported with GitLAb EE 8.2+: see ""[Repository mirroring][1]"".&#xD;&#xA;&#xD;&#xA;As commented by [Xiaodong Qi][2]:&#xD;&#xA;&#xD;&#xA;> This answer can be simplified without using any command lines (just set it up on Gitlab repo management interface)&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Original answer (January 2013)&#xD;&#xA;&#xD;&#xA;If your remote mirror repo is a [*bare* repo][3], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][4]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;which would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.git/hook/post-receive&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Caveat (Update Ocotober 2014)&#xD;&#xA;&#xD;&#xA;[Ciro Santilli][5] points out [in the comments][6]:&#xD;&#xA;&#xD;&#xA;> **Today (Q4 2014) this will fail** because GitLab automatically symlinks github.com/gitlabhq/gitlab-shell/tree/… into every repository it manages.  &#xD;&#xA;So if you make this change, every repository you modify will try to push.  &#xD;&#xA;Not to mention possible conflicts when upgrading `gitlab-shell`, and that the current script is a ruby script, not bash (and you should not remove it!). &#xD;&#xA;&#xD;&#xA;> You could correct this by reading the current directory name and ensuring bijection between that and the remote, but I recommend people to stay far far away from those things&#xD;&#xA;&#xD;&#xA;See (and vote for) [feeadback ""**Automatic push to remote mirror repo after push to GitLab Repo**""][7].&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Update July 2016: I see this kind of feature added for GitLab EE (Enterprise Edition): [MR 249][8]&#xD;&#xA;&#xD;&#xA;- Add ability to enter remote push URL under Mirror Repository settings&#xD;&#xA;- Add implementation code to push to remote repository&#xD;&#xA;- Add new background worker&#xD;&#xA;- Show latest update date and sync errors if they exists.&#xD;&#xA;- Sync remote mirror every hour.&#xD;&#xA;&#xD;&#xA;Note that the recent `Remote Mirror Repository` ([issues 17940][9]) can be tricky:&#xD;&#xA;&#xD;&#xA;> I'm currently trying to shift main development of the Open Source npm modules of my company Lossless GmbH (https://www.npmjs.com/~lossless) from GitHub.com to GitLab.com&#xD;&#xA;&#xD;&#xA;> I'm importing all the repos from GitHub, however when I try to switch off `Mirror Repository` and switch on `Remote Mirror Repository` with the original GitHub URL I get an error saying: &#xD;&#xA;&#xD;&#xA;    Remote mirrors url is already in use&#xD;&#xA;&#xD;&#xA;Here is one of the repos this fails with: https://gitlab.com/pushrocks/npmts&#xD;&#xA;Edited 2 months ago&#xD;&#xA;&#xD;&#xA;> turns out, it just requires multiple steps:&#xD;&#xA;&#xD;&#xA;> - disable the Mirror Repository&#xD;&#xA;- press save&#xD;&#xA;- remove the URl&#xD;&#xA;- press save&#xD;&#xA;- then add the Remote Mirror&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: https://gitlab.com/help/workflow/repository_mirroring.md&#xD;&#xA;  [2]: http://stackoverflow.com/users/4454315/xiaodong-qi&#xD;&#xA;  [3]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [4]: http://sitaramc.github.com/gitolite/cust.html#hooks&#xD;&#xA;  [5]: http://stackoverflow.com/users/895245/ciro-santilli&#xD;&#xA;  [6]: http://stackoverflow.com/questions/14288288/gitlab-repository-mirroring/14291690#comment41606464_14291690&#xD;&#xA;  [7]: http://feedback.gitlab.com/forums/176466-general/suggestions/4614663-automatic-push-to-remote-mirror-repo-after-push-to&#xD;&#xA;  [8]: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/249/builds&#xD;&#xA;  [9]: https://gitlab.com/gitlab-org/gitlab-ce/issues/17940"
146845936;5;14291690;07c9a499-3c9e-4545-bb6f-9474022b5684;2017-05-23 12:02:18;;URL Rewriter Bot;replaced http://stackoverflow.com/ with https://stackoverflow.com/;"Update Dec 2016: Mirroring is suported with GitLAb EE 8.2+: see ""[Repository mirroring][1]"".&#xD;&#xA;&#xD;&#xA;As commented by [Xiaodong Qi][2]:&#xD;&#xA;&#xD;&#xA;> This answer can be simplified without using any command lines (just set it up on Gitlab repo management interface)&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Original answer (January 2013)&#xD;&#xA;&#xD;&#xA;If your remote mirror repo is a [*bare* repo][3], then you can add a post-receive hook to your gitlab-managed repo, and push to your remote repo in it.&#xD;&#xA;&#xD;&#xA;    #!/bin/bash&#xD;&#xA;    git push --mirror slave_user@mirror.host:/path/to/repo.git&#xD;&#xA;&#xD;&#xA;As Gitolite (used by Gitlab) [mentions][4]:&#xD;&#xA;&#xD;&#xA;> if you want to install a hook in only a few specific repositories, do it directly on the server.&#xD;&#xA;&#xD;&#xA;which would be in:&#xD;&#xA;&#xD;&#xA;    ~git/repositories/yourRepo.git/hook/post-receive&#xD;&#xA;&#xD;&#xA;----&#xD;&#xA;&#xD;&#xA;Caveat (Update Ocotober 2014)&#xD;&#xA;&#xD;&#xA;[Ciro Santilli][5] points out [in the comments][6]:&#xD;&#xA;&#xD;&#xA;> **Today (Q4 2014) this will fail** because GitLab automatically symlinks github.com/gitlabhq/gitlab-shell/tree/… into every repository it manages.  &#xD;&#xA;So if you make this change, every repository you modify will try to push.  &#xD;&#xA;Not to mention possible conflicts when upgrading `gitlab-shell`, and that the current script is a ruby script, not bash (and you should not remove it!). &#xD;&#xA;&#xD;&#xA;> You could correct this by reading the current directory name and ensuring bijection between that and the remote, but I recommend people to stay far far away from those things&#xD;&#xA;&#xD;&#xA;See (and vote for) [feeadback ""**Automatic push to remote mirror repo after push to GitLab Repo**""][7].&#xD;&#xA;&#xD;&#xA;-----&#xD;&#xA;&#xD;&#xA;Update July 2016: I see this kind of feature added for GitLab EE (Enterprise Edition): [MR 249][8]&#xD;&#xA;&#xD;&#xA;- Add ability to enter remote push URL under Mirror Repository settings&#xD;&#xA;- Add implementation code to push to remote repository&#xD;&#xA;- Add new background worker&#xD;&#xA;- Show latest update date and sync errors if they exists.&#xD;&#xA;- Sync remote mirror every hour.&#xD;&#xA;&#xD;&#xA;Note that the recent `Remote Mirror Repository` ([issues 17940][9]) can be tricky:&#xD;&#xA;&#xD;&#xA;> I'm currently trying to shift main development of the Open Source npm modules of my company Lossless GmbH (https://www.npmjs.com/~lossless) from GitHub.com to GitLab.com&#xD;&#xA;&#xD;&#xA;> I'm importing all the repos from GitHub, however when I try to switch off `Mirror Repository` and switch on `Remote Mirror Repository` with the original GitHub URL I get an error saying: &#xD;&#xA;&#xD;&#xA;    Remote mirrors url is already in use&#xD;&#xA;&#xD;&#xA;Here is one of the repos this fails with: https://gitlab.com/pushrocks/npmts&#xD;&#xA;Edited 2 months ago&#xD;&#xA;&#xD;&#xA;> turns out, it just requires multiple steps:&#xD;&#xA;&#xD;&#xA;> - disable the Mirror Repository&#xD;&#xA;- press save&#xD;&#xA;- remove the URl&#xD;&#xA;- press save&#xD;&#xA;- then add the Remote Mirror&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;  [1]: https://gitlab.com/help/workflow/repository_mirroring.md&#xD;&#xA;  [2]: https://stackoverflow.com/users/4454315/xiaodong-qi&#xD;&#xA;  [3]: http://sitaramc.github.com/concepts/bare.html&#xD;&#xA;  [4]: http://sitaramc.github.com/gitolite/cust.html#hooks&#xD;&#xA;  [5]: https://stackoverflow.com/users/895245/ciro-santilli&#xD;&#xA;  [6]: https://stackoverflow.com/questions/14288288/gitlab-repository-mirroring/14291690#comment41606464_14291690&#xD;&#xA;  [7]: http://feedback.gitlab.com/forums/176466-general/suggestions/4614663-automatic-push-to-remote-mirror-repo-after-push-to&#xD;&#xA;  [8]: https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/249/builds&#xD;&#xA;  [9]: https://gitlab.com/gitlab-org/gitlab-ce/issues/17940"
