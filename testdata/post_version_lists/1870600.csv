Id;PostId;UserId;PostHistoryTypeId;RevisionGUID;CreationDate;Text;UserDisplayName;Comment
3750313;1870600;227573;2;337efe7e-f396-4a7b-8a56-78c2d1aade1d;2009-12-08 23:23:37.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.";;
3750388;1870600;21234;5;f4d61b6a-2a41-4621-816e-a0d63a7f5f1c;2009-12-08 23:32:34.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;      <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.";;"added 6 characters in body; edited tags"
3750391;1870600;27439;5;a1ae6d06-a493-4450-96aa-29a132e11134;2009-12-08 23:32:38.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.";;added 5 characters in body
3750667;1870600;227573;5;4171cf28-3aa2-4de4-8420-8df20894d058;2009-12-09 00:02:30.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA; Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;";;added 3868 characters in body
3750708;1870600;21234;5;2524d297-7ddd-4911-85c1-8060f82f9264;2009-12-09 00:05:26.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeJob' &#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread""> &#xD;&#xA;       <property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/> &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA;     Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;    	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;    	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;    	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;    	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;    	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;    	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;";;added 404 characters in body
3750750;1870600;227573;5;543912b8-5155-4a83-b365-0d262729b5cd;2009-12-09 00:11:48.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeJob' &#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread""> &#xD;&#xA;       <property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/> &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeMgr'&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeMgr"" class=""au.com.michaelpage.ctsgui.mgr.OrganisationMergeMgrImpl"">		&#xD;&#xA;		<property name=""organisationMergeDao"" ref=""organisationMergeDao""/>		&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA;     Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;    	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;    	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;    	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;    	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;    	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;    	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;";;added 320 characters in body
3750961;1870600;227573;5;3f9bd1e2-a819-4ea6-a56f-f238b80acebe;2009-12-09 00:40:15.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeJob' &#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread""> &#xD;&#xA;       <property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/> &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA;     Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;    	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;    	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;    	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;    	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;    	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;    	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeMgr'&#xD;&#xA;&#xD;&#xA;<bean>&#xD;&#xA;&#xD;&#xA;</bean>&#xD;&#xA;";;"deleted 150 characters in body; deleted 4 characters in body; deleted 162 characters in body"
3754104;1870600;21234;5;f885f484-4680-40f2-bad0-3659127e0573;2009-12-09 08:23:24.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeJob' &#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread""> &#xD;&#xA;       <property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/> &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeMgr"" class=""au.com.michaelpage.ctsgui.mgr.OrganisationMergeMgrImpl"">	 &#xD;&#xA;        <property name=""organisationMergeDao"" ref=""organisationMergeDao""/>	 &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA;     Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;    	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;    	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;    	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;    	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;    	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;    	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeMgr'&#xD;&#xA;&#xD;&#xA;<bean>&#xD;&#xA;&#xD;&#xA;</bean>&#xD;&#xA;";;added 192 characters in body
3756618;1870600;203907;5;e445e31e-2751-4043-8dbe-846af209dca7;2009-12-09 12:25:03.0;"I am new to hibernate and trying integrate hibernate with an existing spring based application.&#xD;&#xA;&#xD;&#xA;I configured session factory and transaction manager, transaction proxy template.&#xD;&#xA;&#xD;&#xA;I am also using Quartz scheduler in this application.&#xD;&#xA;&#xD;&#xA;When I run the application, I am getting the following exception.&#xD;&#xA;&#xD;&#xA;ERROR au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread - Error while updating opportunity: **Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@9f6885] for key [weblogic.jdbc.common.internal.RmiDataSource@32b034] bound to thread [DefaultQuartzScheduler_Worker-0]**&#xD;&#xA;&#xD;&#xA;My hibernate session configuration:&#xD;&#xA;&#xD;&#xA;     <bean id=""sessionFactoryAU""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.LocalSessionFactoryBean"">&#xD;&#xA;		<property name=""dataSource"">&#xD;&#xA;			<ref bean=""profileAU"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""mappingResources"">&#xD;&#xA;			<list>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Opportunity.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/Position.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;				<value>&#xD;&#xA;					/au/com/michaelpage/ctsgui/hibernate/dao/mappings/EventRole.hbm.xml&#xD;&#xA;				</value>&#xD;&#xA;			</list>&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""hibernateProperties"">&#xD;&#xA;			<props>&#xD;&#xA;				<!-- Database Settings -->&#xD;&#xA;				<prop key=""hibernate.dialect"">&#xD;&#xA;					org.hibernate.dialect.SybaseDialect&#xD;&#xA;				</prop>&#xD;&#xA;				<prop key=""hibernate.query.factory_class"">&#xD;&#xA;					org.hibernate.hql.ast.ASTQueryTranslatorFactory&#xD;&#xA;				</prop>&#xD;&#xA;&#xD;&#xA;				<!-- Cache settings -->&#xD;&#xA;				<prop key=""hibernate.cache.provider_class"">&#xD;&#xA;					org.hibernate.cache.EhCacheProvider&#xD;&#xA;				</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction manager for a Hibernate SessionFactory -->&#xD;&#xA;	<bean id=""txManager""&#xD;&#xA;		class=""org.springframework.orm.hibernate3.HibernateTransactionManager"">&#xD;&#xA;		<property name=""sessionFactory"">&#xD;&#xA;			<ref bean=""sessionFactoryAU"" />&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;	<!-- Transaction template for Managers -->&#xD;&#xA;	<bean id=""txProxyTemplateHibernateProfileAU"" abstract=""true""&#xD;&#xA;		class=""org.springframework.transaction.interceptor.TransactionProxyFactoryBean"">&#xD;&#xA;		<property name=""transactionManager"">&#xD;&#xA;			<ref bean=""txManager"" />&#xD;&#xA;		</property>&#xD;&#xA;		<property name=""transactionAttributes"">&#xD;&#xA;			<props>&#xD;&#xA;				<prop key=""create*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""save*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""update*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""delete*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""remove*"">PROPAGATION_REQUIRED</prop>&#xD;&#xA;				<prop key=""get*"">PROPAGATION_SUPPORTS</prop>&#xD;&#xA;			</props>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>	&#xD;&#xA;&#xD;&#xA;	<bean id=""organisationMergeProfileMgrAU""&#xD;&#xA;		parent=""txProxyTemplateHibernateProfileAU"">&#xD;&#xA;		<property name=""target"">&#xD;&#xA;			<bean&#xD;&#xA;				class=""au.com.michaelpage.ctsgui.mgr.profile.OrganisationMergeProfileMgrImpl"">&#xD;&#xA;				<property name=""commonProfileDao"">&#xD;&#xA;					<ref bean=""commonProfileDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""organisationMergeProfileDao"">&#xD;&#xA;					<ref bean=""organisationMergeDaoAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOrganisationDAO"">&#xD;&#xA;					<ref bean=""hibernateOrganisationDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateOpportunityDAO"">&#xD;&#xA;					<ref bean=""hibernateOpportunityDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernatePositionDAO"">&#xD;&#xA;					<ref bean=""hibernatePositionDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;				<property name=""hibernateEventRoleDAO"">&#xD;&#xA;					<ref bean=""hibernateEventRoleDAOAU"" />&#xD;&#xA;				</property>&#xD;&#xA;			</bean>&#xD;&#xA;		</property>&#xD;&#xA;	</bean>&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;My Quartz scheduler configuration:&#xD;&#xA;&#xD;&#xA;<bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread"">&#xD;&#xA;		<property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/>&#xD;&#xA;	</bean>    &#xD;&#xA;  	&#xD;&#xA;  	<bean id=""organisationMergeJobDetail""&#xD;&#xA;	    class=""org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean"">&#xD;&#xA;	    <property name=""targetObject"" ref=""organisationMergeJob"" />&#xD;&#xA;	    <property name=""targetMethod"" value=""execute"" />&#xD;&#xA;	    <property name=""concurrent"" value=""false"" />&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;  	<bean id=""organisationMergeProfileRegularCheckerTrigger"" class=""org.springframework.scheduling.quartz.SimpleTriggerBean"">&#xD;&#xA;    	<property name=""jobDetail"" ref=""organisationMergeJobDetail"" />&#xD;&#xA;    	<property name=""repeatInterval"">&#xD;&#xA;      		<util:constant static-field=""au.com.michaelpage.ctsgui.common.Constants.CHECK_FREQUENCY"" />&#xD;&#xA;    	</property>&#xD;&#xA;  	</bean>&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeJob' &#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeJob"" class=""au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread""> &#xD;&#xA;       <property name=""organisationMergeMgr"" ref=""organisationMergeMgr""/> &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeMgr"" class=""au.com.michaelpage.ctsgui.mgr.OrganisationMergeMgrImpl"">	 &#xD;&#xA;        <property name=""organisationMergeDao"" ref=""organisationMergeDao""/>	 &#xD;&#xA;    </bean>&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Any help to solve this?&#xD;&#xA;&#xD;&#xA;Thank you in advance.&#xD;&#xA;&#xD;&#xA;-------------------------------------------------------------------------&#xD;&#xA;&#xD;&#xA;Hi skaffman,&#xD;&#xA;&#xD;&#xA;Here is the stack trace of the error:&#xD;&#xA;&#xD;&#xA;     Could not open Hibernate Session for transaction; nested exception is java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    Caused by: java.lang.IllegalStateException: Already value [org.springframework.jdbc.datasource.ConnectionHolder@5f2fb8] for key [weblogic.jdbc.common.internal.RmiDataSource@326b7b] bound to thread [DefaultQuartzScheduler_Worker-3]&#xD;&#xA;    	at org.springframework.transaction.support.TransactionSynchronizationManager.bindResource(TransactionSynchronizationManager.java:163)&#xD;&#xA;    	at org.springframework.orm.hibernate3.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:526)&#xD;&#xA;    	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:350)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:262)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:101)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:304)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:89)&#xD;&#xA;    	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)&#xD;&#xA;    	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)&#xD;&#xA;    	at $Proxy73.updateEventRole(Unknown Source)&#xD;&#xA;    	at au.com.michaelpage.ctsgui.utils.OrganisationMergeProfileThread.execute(OrganisationMergeProfileThread.java:100)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&#xD;&#xA;    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&#xD;&#xA;    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&#xD;&#xA;    	at java.lang.reflect.Method.invoke(Method.java:597)&#xD;&#xA;    	at org.springframework.util.MethodInvoker.invoke(MethodInvoker.java:283)&#xD;&#xA;    	at org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean$MethodInvokingJob.executeInternal(MethodInvokingJobDetailFactoryBean.java:272)&#xD;&#xA;    	at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)&#xD;&#xA;    	at org.quartz.core.JobRunShell.run(JobRunShell.java:203)&#xD;&#xA;    	at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:520)&#xD;&#xA;&#xD;&#xA;Thank you.&#xD;&#xA;&#xD;&#xA;Here is the bean definition for 'organisationMergeMgr'&#xD;&#xA;&#xD;&#xA;    <bean id=""organisationMergeMgr"" &#xD;&#xA;       class=""au.com.michaelpage.ctsgui.mgr.OrganisationMergeMgrImpl"">&#xD;&#xA;       <property name=""organisationMergeDao"" ref=""organisationMergeDao""/>&#xD;&#xA;    </bean>&#xD;&#xA;";;added 179 characters in body
